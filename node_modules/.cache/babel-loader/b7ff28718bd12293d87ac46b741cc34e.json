{"ast":null,"code":"import _defineProperty from\"C:/Users/karthick.raja01/Documents/Azure/firstapp/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"C:/Users/karthick.raja01/Documents/Azure/firstapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/karthick.raja01/Documents/Azure/firstapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/karthick.raja01/Documents/Azure/firstapp/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/karthick.raja01/Documents/Azure/firstapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/karthick.raja01/Documents/Azure/firstapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import\"bootstrap/dist/css/bootstrap.min.css\";import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var url5=\"http://localhost:4000/bookingTickets\";var ViewTicket=/*#__PURE__*/function(_Component){_inherits(ViewTicket,_Component);var _super=_createSuper(ViewTicket);function ViewTicket(props){var _this;_classCallCheck(this,ViewTicket);_this=_super.call(this,props);_this.fetchMovies=function(){axios.get(url5).then(function(res){_this.setState({bookingTickets:res.data});}).catch(function(err){console.log(\"Error :\",err);});};_this.searchuser=function(){axios.get(\"http://localhost:4000/viewTicket/?movieId=\".concat(_this.state.setRecord.record)).then(function(response){_this.setState({setRecord:response.data});});};_this.state={bookingTickets:[],errormessage:\"\",searchTerm:\"\"};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(ViewTicket,[{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchMovies();}},{key:\"render\",value:function render(){var _this$state=this.state,bookingTickets=_this$state.bookingTickets,searchTerm=_this$state.searchTerm;var rows=bookingTickets.filter(function(bookingTickets){return bookingTickets.movieId.toLowerCase().includes(searchTerm.toLowerCase());}).map(function(book,key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"center\",{children:book.id})}),/*#__PURE__*/_jsx(\"td\",{children:book.movieId}),/*#__PURE__*/_jsx(\"td\",{children:book.movieName}),/*#__PURE__*/_jsx(\"td\",{children:book.fname}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"center\",{children:book.mobile})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"center\",{children:book.show})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"center\",{children:book.noOfTicket})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"center\",{children:book.bookingCost})})]},key);});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{class:\"form-inline d-flex justify-content-center md-form form-sm mt-0\",children:[/*#__PURE__*/_jsx(\"input\",{style:{width:\"500px\"},type:\"text\",className:\"form-control\",value:searchTerm,name:\"searchTerm\",onChange:this.handleChange,placeholder:\"Type here to Search Movie ID\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.searchuser,className:\"btn btn-primary\",children:\"Search\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mb-5 mt-3\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-dark table-striped table-bordered\",style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"center\",{children:\"ID\"})}),/*#__PURE__*/_jsx(\"th\",{children:\"Movie ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Movie Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"center\",{children:\"Mobile Number\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"center\",{children:\"Show Time\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"center\",{children:\"No of Tickets\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"center\",{children:\"Total Cost\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:rows})]}),/*#__PURE__*/_jsxs(Link,{to:\"/adminview\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{width:\"250px\"},className:\"btn btn-warning text-light\",children:\"Go Back\"})]})]})]});}}]);return ViewTicket;}(Component);export{ViewTicket as default};","map":{"version":3,"names":["React","Component","axios","Link","url5","ViewTicket","props","fetchMovies","get","then","res","setState","bookingTickets","data","catch","err","console","log","searchuser","state","setRecord","record","response","errormessage","searchTerm","handleChange","bind","event","target","name","value","rows","filter","movieId","toLowerCase","includes","map","book","key","id","movieName","fname","mobile","show","noOfTicket","bookingCost","width"],"sources":["C:/Users/karthick.raja01/Documents/Azure/firstapp/src/Admin/ViewTicket.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nconst url5 = \"http://localhost:4000/bookingTickets\";\r\nexport default class ViewTicket extends Component {\r\n    constructor(props){\r\n        super(props);\r\n    this.state={\r\n        bookingTickets:[],\r\n        errormessage:\"\",\r\n        searchTerm: \"\"\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n}\r\n    handleChange(event) {\r\n        this.setState({\r\n          [event.target.name]: event.target.value \r\n        })\r\n      }\r\n    fetchMovies = () => {\r\n        axios.get(url5)\r\n        .then((res)=>{\r\n            this.setState({\r\n                bookingTickets:res.data,\r\n            });\r\n        })\r\n        .catch((err)=>{\r\n            console.log(\"Error :\",err);\r\n        });\r\n    };\r\n    searchuser=()=>{\r\n        axios.get(`http://localhost:4000/viewTicket/?movieId=${this.state.setRecord.record}`)\r\n        .then(response=>{\r\n            this.setState({\r\n                setRecord:response.data,\r\n            })\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        this.fetchMovies();\r\n      }\r\n    render() {\r\n    \r\n        const { bookingTickets, searchTerm } = this.state;\r\n        const rows =  bookingTickets\r\n            .filter((bookingTickets) =>\r\n              bookingTickets.movieId.toLowerCase().includes(searchTerm.toLowerCase())\r\n            )\r\n            .map((book, key) => {\r\n              return (\r\n                <tr key={key}>\r\n                <td><center>{book.id}</center></td>\r\n                  <td>{book.movieId}</td>\r\n                  <td>{book.movieName}</td>\r\n                  <td>{book.fname}</td>\r\n                  <td><center>{book.mobile}</center></td>\r\n                  <td><center>{book.show}</center></td>\r\n                  <td><center>{book.noOfTicket}</center></td>\r\n                  <td><center>{book.bookingCost}</center></td>\r\n                </tr>\r\n              );\r\n            })\r\n        return (\r\n         <>\r\n      <br/>\r\n      <form class=\"form-inline d-flex justify-content-center md-form form-sm mt-0\">\r\n    <input style={{width:\"500px\"}} type=\"text\" className=\"form-control\" value={searchTerm} name=\"searchTerm\" onChange={this.handleChange} placeholder=\"Type here to Search Movie ID\"/>\r\n    <button type=\"button\" onClick={this.searchuser} className=\"btn btn-primary\">Search</button>\r\n    </form>\r\n                    <div className=\"container mb-5 mt-3\">\r\n                      <table className=\"table table-dark table-striped table-bordered\" style={{width:\"100%\"}} >\r\n                        <thead>\r\n                          <tr>\r\n                            <th><center>ID</center></th>\r\n                            <th>Movie ID</th>\r\n                            <th>Movie Name</th>\r\n                            <th>Name</th>\r\n                            <th><center>Mobile Number</center></th>\r\n                            <th><center>Show Time</center></th>\r\n                            <th><center>No of Tickets</center></th>\r\n                            <th><center>Total Cost</center></th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>{rows}</tbody>\r\n                       \r\n                      </table>\r\n                     <Link to=\"/adminview\"> <button \r\n                type=\"submit\" style={{width:\"250px\"}}\r\n                className=\"btn btn-warning text-light\"\r\n              >\r\n                Go Back\r\n              </button></Link>\r\n                    </div>\r\n         </>\r\n        )\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}