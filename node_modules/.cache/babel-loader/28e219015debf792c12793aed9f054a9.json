{"ast":null,"code":"import _defineProperty from\"C:/Users/karthick.raja01/Documents/Azure/firstapp/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"C:/Users/karthick.raja01/Documents/Azure/firstapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/karthick.raja01/Documents/Azure/firstapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/karthick.raja01/Documents/Azure/firstapp/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/karthick.raja01/Documents/Azure/firstapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/karthick.raja01/Documents/Azure/firstapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import\"bootstrap/dist/css/bootstrap.min.css\";import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var url2=\"http://localhost:4000/register/\";var DeleteUser=/*#__PURE__*/function(_Component){_inherits(DeleteUser,_Component);var _super=_createSuper(DeleteUser);function DeleteUser(props){var _this;_classCallCheck(this,DeleteUser);_this=_super.call(this,props);_this.fetchMovies=function(){axios.get(url2).then(function(response){var data=response.data;var newState={register:data,errorMessage:\"\"};_this.setState(newState);}).catch(function(error){if(error.response.status==404){_this.setState({errorMessage:\"Could not fetch User data!\",successMessage:\"\"});}});/* \r\n          Send an AXIOS GET request to the url http://localhost:1050/bookings/ to fetch all the bookings \r\n          and handle the success and error cases appropriately.Set the isLoading to false once the request is complete\r\n        */};_this.searchuser=function(){axios.get(\"http://localhost:4000/register/?fname=\".concat(_this.state.setRecord.record)).then(function(response){_this.setState({setRecord:response.data});});};_this.deleteMovies=function(id){axios.delete(url2+id).then(function(res){_this.fetchMovies();_this.setState({successMessage:\"User deleted successfully!!\"});setTimeout(function(){return _this.props.history.push(\"/adminview\");},2500);}).catch(function(error){_this.setState({errorMessage:\"User deletion failed!\",successMessage:\"\"});});};_this.state={register:[],errorMessage:\"\",successMessage:\"\",searchTerm:\"\"};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(DeleteUser,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchMovies();}},{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,register=_this$state.register,searchTerm=_this$state.searchTerm;var rows=register.filter(function(register){return register.fname.toLowerCase().includes(searchTerm.toLowerCase());}).map(function(reg,key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:reg.id}),/*#__PURE__*/_jsx(\"td\",{children:reg.fname}),/*#__PURE__*/_jsx(\"td\",{children:reg.email}),/*#__PURE__*/_jsx(\"td\",{children:reg.district}),/*#__PURE__*/_jsx(\"td\",{children:reg.mobile}),/*#__PURE__*/_jsx(\"td\",{children:reg.uname}),/*#__PURE__*/_jsx(\"td\",{children:reg.password}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:function onClick(){return _this2.deleteMovies(reg.id);},className:\"btn btn-danger\",children:\"Delete\"})})]},key);});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{class:\"form-inline d-flex justify-content-center md-form form-sm mt-0\",children:[/*#__PURE__*/_jsx(\"input\",{style:{width:\"500px\"},type:\"text\",className:\"form-control\",value:searchTerm,name:\"searchTerm\",onChange:this.handleChange,placeholder:\"Type here to Search\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.searchuser,className:\"btn btn-primary\",children:\"Search\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mb-5 mt-3\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-light table-striped table-bordered\",style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"District\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Mobile Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:rows})]}),/*#__PURE__*/_jsx(\"div\",{align:\"center\",children:/*#__PURE__*/_jsx(\"p\",{style:{width:\"100%\"},className:\"text-success bg-light\",children:this.state.successMessage})}),/*#__PURE__*/_jsx(\"div\",{align:\"center\",children:/*#__PURE__*/_jsx(\"p\",{style:{width:\"100%\"},className:\"text-success bg-light\",children:this.state.ErrorMessage})})]})]});}}]);return DeleteUser;}(Component);export{DeleteUser as default};","map":{"version":3,"names":["React","Component","axios","Link","url2","DeleteUser","props","fetchMovies","get","then","response","data","newState","register","errorMessage","setState","catch","error","status","successMessage","searchuser","state","setRecord","record","deleteMovies","id","delete","res","setTimeout","history","push","searchTerm","handleChange","bind","event","target","name","value","rows","filter","fname","toLowerCase","includes","map","reg","key","email","district","mobile","uname","password","width","ErrorMessage"],"sources":["C:/Users/karthick.raja01/Documents/Azure/firstapp/src/Admin/DeleteUser.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nconst url2 = \"http://localhost:4000/register/\";\r\nexport default class DeleteUser extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          register: [],\r\n          errorMessage: \"\",\r\n          successMessage: \"\",\r\n          searchTerm: \"\"\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n      }\r\n      componentDidMount() {\r\n        this.fetchMovies();\r\n      }\r\n      handleChange(event) {\r\n        this.setState({\r\n          [event.target.name]: event.target.value \r\n        })\r\n      }\r\n      fetchMovies = () => {\r\n        axios\r\n          .get(url2)\r\n          .then((response) => {\r\n            const data = response.data;\r\n            const newState = {\r\n              register: data,\r\n              errorMessage: \"\",\r\n            };\r\n            this.setState(newState);\r\n          })\r\n          .catch((error) => {\r\n            if (error.response.status == 404) {\r\n              this.setState({\r\n                errorMessage: \"Could not fetch User data!\",\r\n                successMessage: \"\",\r\n              });\r\n            }\r\n          });\r\n        /* \r\n          Send an AXIOS GET request to the url http://localhost:1050/bookings/ to fetch all the bookings \r\n          and handle the success and error cases appropriately.Set the isLoading to false once the request is complete\r\n        */\r\n      };\r\n      searchuser=()=>{\r\n        axios.get(`http://localhost:4000/register/?fname=${this.state.setRecord.record}`)\r\n        .then(response=>{\r\n            this.setState({\r\n                setRecord:response.data,\r\n            })\r\n        });\r\n    }\r\n      deleteMovies = (id) => {\r\n        axios\r\n          .delete(url2 + id)\r\n          .then((res) => {\r\n            this.fetchMovies();\r\n            this.setState({\r\n              successMessage: \"User deleted successfully!!\",\r\n            });\r\n            setTimeout(()=>this.props.history.push(\"/adminview\"), 2500);\r\n          })\r\n          .catch((error) => {\r\n              this.setState({\r\n                errorMessage: \"User deletion failed!\",\r\n                successMessage: \"\",\r\n              });\r\n            \r\n          });\r\n      };\r\n  render() {\r\n    const { register, searchTerm } = this.state;\r\n    const rows =  register\r\n        .filter((register) =>\r\n          register.fname.toLowerCase().includes(searchTerm.toLowerCase())\r\n        )\r\n        .map((reg, key) => {\r\n          return (\r\n            <tr key={key}>\r\n             <td>{reg.id}</td>\r\n              <td>{reg.fname}</td>\r\n              <td>{reg.email}</td>\r\n              <td>{reg.district}</td>\r\n              <td>{reg.mobile}</td>\r\n              <td>{reg.uname}</td>\r\n              <td>{reg.password}</td>\r\n              <td>\r\n          <button \r\n            type=\"submit\"\r\n            onClick={()=>this.deleteMovies(reg.id)}\r\n            className=\"btn btn-danger\"\r\n          >\r\n            Delete\r\n          </button>\r\n        </td>\r\n            </tr>\r\n          );\r\n        })\r\n    return (\r\n      <>\r\n      <form class=\"form-inline d-flex justify-content-center md-form form-sm mt-0\">\r\n<input style={{width:\"500px\"}} type=\"text\" className=\"form-control\" value={searchTerm} name=\"searchTerm\" onChange={this.handleChange} placeholder=\"Type here to Search\"/>\r\n<button type=\"button\" onClick={this.searchuser} className=\"btn btn-primary\">Search</button>\r\n</form>\r\n\r\n  \r\n\r\n\r\n\r\n\r\n                <div className=\"container mb-5 mt-3\">\r\n                  <table className=\"table table-light table-striped table-bordered\" style={{width:\"100%\"}} >\r\n                    <thead>\r\n                      <tr>\r\n                        <th>ID</th>\r\n                        <th>Name</th>\r\n                        <th>Email ID</th>\r\n                        <th>District</th>\r\n                        <th>Mobile Number</th>\r\n                        <th>Username</th>\r\n                        <th>Password</th>\r\n                        <th>Action</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>{rows}</tbody>\r\n                   \r\n                    \r\n                 \r\n                  </table>\r\n                  <div align=\"center\">\r\n                    {\r\n                       <p style={{width:\"100%\"}} className=\"text-success bg-light\">{this.state.successMessage}</p>\r\n                    }\r\n                    </div>\r\n                  <div align=\"center\">\r\n                    {\r\n                       <p style={{width:\"100%\"}} className=\"text-success bg-light\">{this.state.ErrorMessage}</p>\r\n                    }\r\n                     </div>\r\n                  </div>\r\n\r\n      </>\r\n    )\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}